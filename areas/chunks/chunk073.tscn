[gd_scene load_steps=21 format=2]

[ext_resource path="res://areas/chunk_content.gd" type="Script" id=1]
[ext_resource path="res://_glb/chunks/chunk073.glb" type="PackedScene" id=2]
[ext_resource path="res://entities/env/copper/palace1.tscn" type="PackedScene" id=3]
[ext_resource path="res://entities/env/copper/palace2.tscn" type="PackedScene" id=4]
[ext_resource path="res://entities/control/dswitch.tscn" type="PackedScene" id=5]
[ext_resource path="res://entities/control/door.gd" type="Script" id=6]
[ext_resource path="res://entities/env/copper/copper_fountain.tscn" type="PackedScene" id=7]
[ext_resource path="res://entities/enemies/deathgnat.tscn" type="PackedScene" id=8]
[ext_resource path="res://items/bug_pickup.tscn" type="PackedScene" id=9]
[ext_resource path="res://material/env/copper/copper_corroded.material" type="Material" id=10]
[ext_resource path="res://material/env/copper/copper_local_coords.tres" type="Material" id=11]
[ext_resource path="res://material/env/copper/copper_cleaned.tres" type="Material" id=12]
[ext_resource path="res://items/gem_pickup.tscn" type="PackedScene" id=13]
[ext_resource path="res://entities/env/copper/crate1.tscn" type="PackedScene" id=14]
[ext_resource path="res://items/random_ammo_pickup.tscn" type="PackedScene" id=15]

[sub_resource type="Curve3D" id=3]
_data = {
"points": PoolVector3Array( -15.0233, 2.13187, -9.53745, 15.0233, -2.13187, 9.53745, -1.25459, 5.88443, -0.721664, -13.6799, -0.388306, -8.25635, 13.6799, 0.388306, 8.25635, 30.5264, 14.2141, 17.9634, -21.8377, 0.210876, -2.14014, 21.8377, -0.210876, 2.14014, 58.3913, 35.0594, 100.285, -21.0372, -39.8934, 22.1345, 21.0372, 39.8934, -22.1345, 123.239, 106.471, 60.734 ),
"tilts": PoolRealArray( 0, 0, 0, 0 )
}

[sub_resource type="Animation" id=4]
resource_name = "Activate"
length = 40.0
tracks/0/type = "value"
tracks/0/path = NodePath("..:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 40 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("..:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 7.2, 9.7, 19.4, 23.1, 40 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 5.30972, 0 ), Vector3( 0, 46.8924, 0 ), Vector3( 0, 62.092, 0 ), Vector3( 0, 31.7234, 0 ), Vector3( 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=5]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("..:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("..:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ) ]
}

[sub_resource type="BoxShape" id=1]
extents = Vector3( 4, 1, 8 )

[sub_resource type="CubeMesh" id=2]
size = Vector3( 8, 2, 16 )

[node name="chunk073" instance=ExtResource( 2 )]
script = ExtResource( 1 )

[node name="palace1" parent="." index="17" instance=ExtResource( 3 )]
transform = Transform( -0.675899, -0.10704, 0.72918, 0, 0.989397, 0.145239, -0.736994, 0.0981666, -0.668732, -22.9504, 463.697, -67.8561 )

[node name="palace2" parent="palace1" index="1" instance=ExtResource( 4 )]
transform = Transform( 1, 3.72529e-09, -5.96046e-08, 7.45058e-09, 0.997739, -0.0672071, 2.98023e-08, 0.067207, 0.997739, -0.0764618, 18.1543, -0.421249 )

[node name="palace3" parent="palace1/palace2" index="1" instance=ExtResource( 4 )]
transform = Transform( -0.395862, -2.37487e-08, -0.91831, -0.0700909, 0.997083, 0.0302145, 0.915631, 0.076326, -0.394707, 1.24206, 18.8798, -0.644577 )

[node name="CSGBox" type="CSGBox" parent="." index="18"]
transform = Transform( 0.837154, 0, -0.546966, 0, 1, 0, 0.546966, 0, 0.837154, 272.508, 492.806, -113.696 )
use_collision = true
collision_layer = 257
width = 38.7822
height = 135.373
depth = 39.1897
material = ExtResource( 10 )

[node name="CSGBox2" type="CSGBox" parent="CSGBox" index="0"]
transform = Transform( -0.2502, 0, 0.968194, 0, 1, 0, -0.968194, 0, -0.2502, -123.619, -23.6029, 28.8533 )
width = 35.7937
material = ExtResource( 10 )

[node name="CSGBox4" type="CSGBox" parent="CSGBox" index="1"]
transform = Transform( -0.2502, 0, 0.968194, 0, 1, 0, -0.968194, 0, -0.2502, -123.619, -20.3696, 28.8533 )
width = 35.7937
material = ExtResource( 10 )

[node name="CSGBox6" type="CSGBox" parent="CSGBox" index="2"]
transform = Transform( -0.2502, -6.30928e-08, 0.968194, 0, 1, 6.51654e-08, -0.968194, 1.63044e-08, -0.2502, -124.48, -20.7798, 29.0758 )
width = 35.7937
height = 3.55303
material = ExtResource( 10 )

[node name="CSGBox3" type="CSGBox" parent="CSGBox" index="3"]
transform = Transform( -0.2502, 0, 0.968194, 0, 1, 0, -0.968194, 0, -0.2502, -128.757, -48.5106, 9.27734 )
width = 13.6756
height = 61.5112
depth = 20.4573
material = ExtResource( 10 )

[node name="CSGBox5" type="CSGBox" parent="CSGBox" index="4"]
transform = Transform( -0.2502, 0, 0.968194, 0, 1, 0, -0.968194, 0, -0.2502, -118.941, -48.5106, 47.2611 )
width = 13.6756
height = 61.5112
depth = 20.4573
material = ExtResource( 10 )

[node name="CSGCylinder" type="CSGCylinder" parent="CSGBox" index="5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -47.3147, -27.2113, 105.183 )
radius = 19.2476
height = 68.2123
material = ExtResource( 10 )

[node name="CSGCylinder2" type="CSGCylinder" parent="CSGBox" index="6"]
transform = Transform( 0.775364, -0.631515, -2.76044e-08, 0, -4.37114e-08, 1, -0.631515, -0.775364, -3.38922e-08, -88.2722, -6.81793, 72.5719 )
radius = 3.34016
height = 20.812
material = ExtResource( 10 )

[node name="CSGCylinder3" type="CSGCylinder" parent="CSGBox/CSGCylinder2" index="0"]
transform = Transform( 1, -8.74228e-08, -1.19209e-07, 1.19209e-07, -4.37114e-08, 1, -8.74228e-08, -1, -4.37114e-08, 0, 0, -34.5471 )
radius = 2.71479
height = 68.621
material = ExtResource( 10 )

[node name="CSGCylinder4" type="CSGCylinder" parent="CSGBox/CSGCylinder2/CSGCylinder3" index="0"]
transform = Transform( 1, -8.74228e-08, -5.96046e-08, -8.74228e-08, -1, 1.07778e-07, -5.96046e-08, -1.07778e-07, -1, 1.52588e-05, -44.2403, -5.847 )
radius = 2.02124
height = 20.812
material = ExtResource( 10 )

[node name="CSGCylinder5" type="CSGCylinder" parent="CSGBox/CSGCylinder2/CSGCylinder3/CSGCylinder4" index="0"]
transform = Transform( -3.99689e-08, 0.866025, -0.5, -1, -3.35337e-08, 2.18557e-08, 2.16072e-09, 0.5, 0.866025, -2.8273, 2.07907, -1.27403 )
radius = 0.842394
height = 9.58515
material = ExtResource( 10 )

[node name="CSGBox" type="CSGBox" parent="CSGBox" index="7"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.476135, 68.1169, 18.7643 )
width = 34.9399
height = 4.9135
material = ExtResource( 10 )

[node name="lift_zone" type="Spatial" parent="." index="19"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 123.974, 457.08, -179.568 )

[node name="copper_fountain" parent="lift_zone" index="0" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -23.5077, 2.57816, -5.61581 )

[node name="copper_fountain2" parent="lift_zone" index="1" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 147.947, 104.368, 64.7923 )

[node name="Path" type="Path" parent="lift_zone" index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.53027, 0 )
curve = SubResource( 3 )

[node name="PathFollow" type="PathFollow" parent="lift_zone/Path" index="0"]
transform = Transform( 0.999984, 0, 0, 0, 1, 0, 0, 0, 0.999986, -1.25459, 5.88443, -0.721664 )
rotation_mode = 0

[node name="lift" type="KinematicBody" parent="lift_zone/Path/PathFollow" index="0"]
transform = Transform( 0.861819, 0, -0.507217, 0, 1, 0, 0.507217, 0, 0.861819, 0, 0.0727234, 0 )
script = ExtResource( 6 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="lift_zone/Path/PathFollow/lift" index="0"]
playback_process_mode = 0
anims/Activate = SubResource( 4 )
anims/RESET = SubResource( 5 )

[node name="CollisionShape" type="CollisionShape" parent="lift_zone/Path/PathFollow/lift" index="1"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="lift_zone/Path/PathFollow/lift/CollisionShape" index="0"]
mesh = SubResource( 2 )
material/0 = ExtResource( 11 )

[node name="dswitch" parent="lift_zone/Path/PathFollow" index="1" instance=ExtResource( 5 )]
transform = Transform( -0.560108, 0, -0.82842, 0, 1, 0, 0.82842, 0, -0.560108, 3.99661, 1.12878, -5.91115 )
reset_upon_death = true

[node name="CSGPolygon" type="CSGPolygon" parent="lift_zone/Path" index="1"]
polygon = PoolVector2Array( 0.321381, 0.107758, 0.430092, 0.553741, 0.724861, 0.221649 )
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource( 12 )

[node name="dswitch" parent="lift_zone" index="3" instance=ExtResource( 5 )]
transform = Transform( 0.83913, 0, -0.543931, 0, 1, 0, 0.543931, 0, 0.83913, -3.92256, 1.76135, -5.70059 )
time_deactivate = 1.0

[node name="dswitch2" parent="lift_zone" index="4" instance=ExtResource( 5 )]
transform = Transform( 0.85601, 0, -0.516959, 0, 1, 0, 0.516959, 0, 0.85601, 127.308, 103.413, 67.574 )
time_deactivate = 1.0

[node name="deathgnat" parent="lift_zone" index="5" instance=ExtResource( 8 )]
transform = Transform( -0.904215, 0, 0.427078, 0, 1, 0, -0.427078, 0, -0.904215, 30.6329, 26.0706, 48.4329 )
reset_on_player_death = true

[node name="deathgnat2" parent="lift_zone" index="6" instance=ExtResource( 8 )]
transform = Transform( 0.973996, 0, -0.226567, 0, 1, 0, 0.226567, 0, 0.973996, 48.1024, 26.0706, 3.02606 )
reset_on_player_death = true

[node name="deathgnat3" parent="lift_zone" index="7" instance=ExtResource( 8 )]
transform = Transform( -0.138826, 0, -0.990317, 0, 1, 0, 0.990317, 0, -0.138826, 150.406, 108.83, 64.7159 )
reset_on_player_death = true

[node name="bug_pickup" parent="lift_zone" index="8" instance=ExtResource( 9 )]
transform = Transform( 0.91878, 0, -0.39477, 0, 1, 0, 0.39477, 0, 0.91878, 34.5977, 32.2244, 69.4532 )

[node name="bug_pickup2" parent="lift_zone" index="9" instance=ExtResource( 9 )]
transform = Transform( 0.653152, 0, 0.757227, 0, 1, 0, -0.757227, 0, 0.653152, 34.7912, 33.5221, 71.9143 )

[node name="bug_pickup3" parent="lift_zone" index="10" instance=ExtResource( 9 )]
transform = Transform( -0.992695, 0, -0.12065, 0, 1, 0, 0.12065, 0, -0.992695, 35.0011, 35.916, 81.3526 )

[node name="bug_pickup5" parent="lift_zone" index="11" instance=ExtResource( 9 )]
transform = Transform( 0.352064, 0, 0.935976, 0, 1, 0, -0.935976, 0, 0.352064, 34.2916, 49.5227, 84.5903 )
quantity = 3

[node name="bug_pickup6" parent="lift_zone" index="12" instance=ExtResource( 9 )]
transform = Transform( -0.0983492, 0, 0.995152, 0, 1, 0, -0.995152, 0, -0.0983492, 36.1237, 49.8535, 84.086 )
quantity = 3

[node name="crate1" parent="lift_zone" index="13" instance=ExtResource( 14 )]
transform = Transform( -0.975781, 0, -0.21875, 0, 1, 0, 0.21875, 0, -0.975781, -25.4253, 1.81165, -12.5105 )

[node name="random_ammo_pickup" parent="lift_zone/crate1" index="3" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0140839, 0.0412292, -0.484497 )
ignore_parent = false

[node name="random_ammo_pickup2" parent="lift_zone/crate1" index="4" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0140839, 0.0412292, 0.113113 )
ignore_parent = false

[node name="random_ammo_pickup3" parent="lift_zone/crate1" index="5" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0141144, 0.0412292, 0.528946 )
ignore_parent = false

[node name="gem_pickup" parent="lift_zone/crate1" index="6" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.285538, -0.0505371, -0.357452 )
quantity = 2

[node name="gem_pickup2" parent="lift_zone/crate1" index="7" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.341522, -0.0505371, 0.252838 )
quantity = 3

[connection signal="insta_toggled" from="lift_zone/Path/PathFollow/dswitch" to="lift_zone/Path/PathFollow/lift" method="_on_toggled" binds= [ true ]]
[connection signal="toggled" from="lift_zone/Path/PathFollow/dswitch" to="lift_zone/Path/PathFollow/lift" method="_on_toggled"]
[connection signal="activated" from="lift_zone/dswitch" to="lift_zone/Path/PathFollow/dswitch" method="deactivate"]
[connection signal="activated" from="lift_zone/dswitch2" to="lift_zone/Path/PathFollow/dswitch" method="activate"]
