[gd_scene load_steps=30 format=2]

[ext_resource path="res://material/env/ancient/gem_emissive.tres" type="Material" id=1]
[ext_resource path="res://_glb/chunks/chunk113.glb" type="PackedScene" id=2]
[ext_resource path="res://areas/chunk_content.gd" type="Script" id=3]
[ext_resource path="res://entities/env/copper/palace1.tscn" type="PackedScene" id=4]
[ext_resource path="res://entities/enemies/deathgnat.tscn" type="PackedScene" id=5]
[ext_resource path="res://entities/env/ancient/target_flower.tscn" type="PackedScene" id=6]
[ext_resource path="res://material/env/water.shader" type="Shader" id=7]
[ext_resource path="res://items/random_ammo_pickup.tscn" type="PackedScene" id=8]
[ext_resource path="res://material/env/wave_noise.png" type="Texture" id=9]
[ext_resource path="res://entities/env/ancient/fountainA_large.tscn" type="PackedScene" id=10]
[ext_resource path="res://items/ammo/pistol_pickup.tscn" type="PackedScene" id=11]
[ext_resource path="res://entities/env/ancient/falling_platform.tscn" type="PackedScene" id=15]
[ext_resource path="res://entities/npc/npc_riley.tscn" type="PackedScene" id=16]
[ext_resource path="res://material/env/ancient/white_metal.material" type="Material" id=21]
[ext_resource path="res://entities/env/ancient/platform_square.tscn" type="PackedScene" id=23]
[ext_resource path="res://entities/control/door.gd" type="Script" id=28]
[ext_resource path="res://entities/control/dswitch_a.tscn" type="PackedScene" id=29]
[ext_resource path="res://items/bug_pickup.tscn" type="PackedScene" id=35]

[sub_resource type="Animation" id=1]
resource_name = "Activate"
length = 3.0
tracks/0/type = "value"
tracks/0/path = NodePath("platform_square:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 0.287175, 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 24.7711, 7.09093, 9.14988 ), Transform( 0.674898, 8.84652e-16, 0.737911, 0, 1, -1.19886e-15, -0.737911, 8.09107e-16, 0.674898, 22.7508, 6, 7.30208 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("platform_square2:transform")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 0.406126, 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 21.8865, 7.09093, 12.3038 ), Transform( 0.674898, 8.84652e-16, 0.737911, 0, 1, -1.19886e-15, -0.737911, 8.09107e-16, 0.674898, 17.4871, 6, 12.7831 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("platform_square3:transform")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 0.554785, 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 18.9046, 7.09093, 15.5641 ), Transform( 0.674898, 0, 0.737911, 0, 1, 0, -0.737911, 0, 0.674898, 12.4831, 6, 18.1981 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("platform_square4:transform")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 0.812252, 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 15.7408, 7.09093, 19.0234 ), Transform( 0.674898, 0, 0.737911, 0, 1, 0, -0.737911, 0, 0.674898, 7.36275, 6, 23.474 ) ]
}

[sub_resource type="Animation" id=2]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("platform_square:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 24.7711, 7.09093, 9.14988 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("platform_square2:transform")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 21.8865, 7.09093, 12.3038 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("platform_square3:transform")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 18.9046, 7.09093, 15.5641 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("platform_square4:transform")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 15.7408, 7.09093, 19.0234 ) ]
}

[sub_resource type="Animation" id=3]
resource_name = "Activate"
tracks/0/type = "value"
tracks/0/path = NodePath("platform_square5:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.353553, 1 ),
"update": 0,
"values": [ Transform( -3.2964e-08, -0.74298, -0.669314, 1, -4.37114e-08, -7.28146e-10, -2.87156e-08, -0.669314, 0.74298, -1.7094, -2.31375, 25.2544 ), Transform( -3.2964e-08, -0.74298, -0.669314, 1, -4.37114e-08, -7.28146e-10, -2.87156e-08, -0.669314, 0.74298, -1.7094, 1.05877, 25.2544 ) ]
}

[sub_resource type="Animation" id=4]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("platform_square5:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( -3.2964e-08, -0.74298, -0.669314, 1, -4.37114e-08, -7.28146e-10, -2.87156e-08, -0.669314, 0.74298, -1.7094, -2.31375, 25.2544 ) ]
}

[sub_resource type="BoxShape" id=5]
extents = Vector3( 14, 5, 5 )

[sub_resource type="CubeMesh" id=6]
size = Vector3( 28, 8, 12 )

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource( 7 )
shader_param/surface_albedo = Color( 0.890196, 1, 0.780392, 1 )
shader_param/deep_albedo = null
shader_param/max_depth = 3.158
shader_param/foam_color = Color( 0.960784, 0.913725, 0.913725, 0.513726 )
shader_param/refraction = 0.004
shader_param/foam_distance = 0.894
shader_param/foam_noise_scale = 0.483
shader_param/foam_noise_scale2 = 0.2
shader_param/foam_noise = ExtResource( 9 )

[sub_resource type="BoxShape" id=8]
extents = Vector3( 13, 6, 12 )

[sub_resource type="CubeMesh" id=9]
size = Vector3( 26, 12, 24 )

[sub_resource type="Animation" id=10]
resource_name = "Activate"
length = 3.0
tracks/0/type = "value"
tracks/0/path = NodePath("../platform_square6:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Transform( -6.04459e-08, 0.839535, -0.543306, -1, -4.37114e-08, 4.37114e-08, 1.29486e-08, 0.543306, 0.839535, -28.6234, 9.40149, 4.15881 ), Transform( 0.839535, 0, -0.543306, 0, 1, 0, 0.543306, 0, 0.839535, -16.7325, 6, -1.62919 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../platform_square7:transform")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -28.4288, 9.40149, 13.7024 ), Transform( 0.543306, 0, 0.839535, 0, 1, 0, -0.839535, 0, 0.543306, -22.1163, 6, 3.94816 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("../platform_square8:transform")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -22.6197, 9.40149, 17.4618 ), Transform( 0.543306, 0, 0.839535, 0, 1, 0, -0.839535, 0, 0.543306, -19.3598, 6, 12.4246 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath(".:transform")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -17.2395, 9.40149, 20.9436 ), Transform( 0.543306, 0, 0.839535, 0, 1, 0, -0.839535, 0, 0.543306, -14.1283, 6, 16.1359 ) ]
}

[sub_resource type="Animation" id=11]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("../platform_square6:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( -6.04459e-08, 0.839535, -0.543306, -1, -4.37114e-08, 4.37114e-08, 1.29486e-08, 0.543306, 0.839535, -28.6234, 9.40149, 4.15881 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../platform_square7:transform")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -28.4288, 9.40149, 13.7024 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("../platform_square8:transform")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -22.6197, 9.40149, 17.4618 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath(".:transform")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -17.2395, 9.40149, 20.9436 ) ]
}

[node name="chunk113" instance=ExtResource( 2 )]
script = ExtResource( 3 )

[node name="tower" parent="." index="0"]
material/0 = ExtResource( 21 )
material/1 = ExtResource( 1 )

[node name="entry" parent="tower" index="0"]
material/0 = ExtResource( 21 )
material/1 = ExtResource( 1 )

[node name="StaticBody" parent="tower/entry" index="0"]
collision_layer = 257

[node name="interior" parent="tower" index="1"]
material/0 = ExtResource( 21 )

[node name="StaticBody" parent="tower/interior" index="0"]
collision_layer = 257

[node name="StaticBody" parent="tower" index="2"]
collision_layer = 257

[node name="palace1" parent="." index="1" instance=ExtResource( 4 )]
transform = Transform( -0.133093, 0.920271, 0.367951, 0.948155, 0.0101213, 0.317647, 0.288597, 0.391151, -0.873906, 154.628, 39.2251, -4.12603 )

[node name="active_entities" type="MultiMeshSystem" parent="." index="2"]

[node name="npc_riley" parent="active_entities" index="0" instance=ExtResource( 16 )]
transform = Transform( -0.649633, 0, 0.760248, 0, 1, 0, -0.760248, 0, -0.649633, 161.447, 38.8803, -1.84631 )
custom_entry = "_entry113"
only_if_saved = false
delete_if_saved = false
enemies = [ NodePath("../deathgnat"), NodePath("../deathgnat2"), NodePath("../deathgnat3") ]

[node name="deathgnat" parent="active_entities" index="1" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 142.592, 47.1108, -16.8554 )
respawns = false
reset_on_player_death = true

[node name="deathgnat2" parent="active_entities" index="2" instance=ExtResource( 5 )]
transform = Transform( 0.754065, 0, 0.656799, 0, 1, 0, -0.656799, 0, 0.754065, 129.536, 56.0312, -17.5363 )
respawns = false
reset_on_player_death = true

[node name="deathgnat3" parent="active_entities" index="3" instance=ExtResource( 5 )]
transform = Transform( 0.226601, 0, 0.973988, 0, 1, 0, -0.973988, 0, 0.226601, 115.14, 56.0312, -11.3041 )
respawns = false
reset_on_player_death = true

[node name="target_flower" parent="active_entities" index="4" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 127.52, 56.6382, 15.7108 )
open = false

[node name="target_flower2" parent="active_entities" index="5" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 132.986, 54.0319, 14.457 )
open = false

[node name="target_flower3" parent="active_entities" index="6" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 139.424, 52.7919, 9.83714 )
open = false

[node name="target_flower4" parent="active_entities" index="7" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 145.766, 51.3225, 5.31136 )
open = false

[node name="OmniLight" type="OmniLight" parent="active_entities" index="8"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 93.2133, 61.3624, 23.4169 )
light_color = Color( 0.592157, 0.819608, 0.776471, 1 )
omni_range = 110.862

[node name="OmniLight2" type="OmniLight" parent="active_entities" index="9"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 62.5489, 158.211, 33.8862 )
light_color = Color( 0.592157, 0.819608, 0.776471, 1 )
omni_range = 110.862

[node name="tower_interior1" type="Spatial" parent="active_entities" index="10"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 74.8738, 44.2597, 25.2743 )

[node name="random_ammo_pickup" parent="active_entities/tower_interior1" index="0" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 31.0014, -3.52607, -7.14231 )
generate_on_ready = true
regenerate_on_death = true

[node name="random_ammo_pickup2" parent="active_entities/tower_interior1" index="1" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 31.4756, -3.52607, -6.57255 )
generate_on_ready = true
regenerate_on_death = true

[node name="random_ammo_pickup3" parent="active_entities/tower_interior1" index="2" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 31.7641, -3.52607, -5.86731 )
generate_on_ready = true
regenerate_on_death = true

[node name="platform_square" parent="active_entities/tower_interior1" index="3" instance=ExtResource( 23 )]
transform = Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 24.7711, 7.09093, 9.14988 )

[node name="platform_square2" parent="active_entities/tower_interior1" index="4" instance=ExtResource( 23 )]
transform = Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 21.8865, 7.09093, 12.3038 )

[node name="platform_square3" parent="active_entities/tower_interior1" index="5" instance=ExtResource( 23 )]
transform = Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 18.9046, 7.09093, 15.5641 )

[node name="platform_square4" parent="active_entities/tower_interior1" index="6" instance=ExtResource( 23 )]
transform = Transform( 0.674898, -0.737911, -3.22551e-08, 0, -4.37114e-08, 1, -0.737911, -0.674898, -2.95007e-08, 15.7408, 7.09093, 19.0234 )

[node name="door1" type="AnimationPlayer" parent="active_entities/tower_interior1" index="7"]
playback_process_mode = 0
anims/Activate = SubResource( 1 )
anims/RESET = SubResource( 2 )
script = ExtResource( 28 )

[node name="dswitch_a1" parent="active_entities/tower_interior1" index="8" instance=ExtResource( 29 )]
transform = Transform( 0.776006, 0, -0.630725, 0, 1, 0, 0.630725, 0, 0.776006, 20.5382, 3.7247, 2.2416 )
reset_upon_death = true

[node name="CSGBox" type="CSGBox" parent="active_entities/tower_interior1" index="9"]
transform = Transform( 0.960828, 0, -0.277144, 0, 1, 0, 0.277144, 0, 0.960828, 30.6983, 3.49522, -7.60861 )
use_collision = true
collision_layer = 257
width = 17.1985
height = 16.3509
depth = 27.9827
material = ExtResource( 21 )

[node name="CSGBox2" type="CSGBox" parent="active_entities/tower_interior1/CSGBox" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.18528, 0 )
operation = 2
use_collision = true
width = 10.1047
height = 7.14149
depth = 14.4775
material = ExtResource( 21 )

[node name="CSGBox6" type="CSGBox" parent="active_entities/tower_interior1/CSGBox" index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.14579, 0 )
operation = 2
use_collision = true
width = 23.914
height = 9.94544
depth = 32.2503
material = ExtResource( 21 )

[node name="CSGBox5" type="CSGBox" parent="active_entities/tower_interior1/CSGBox" index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.42805, -1.60028, 9.66624 )
operation = 2
use_collision = true
width = 3.75789
height = 21.8711
depth = 7.62818
material = ExtResource( 21 )

[node name="CSGBox4" type="CSGBox" parent="active_entities/tower_interior1/CSGBox" index="3"]
transform = Transform( 0.0639004, 0, -0.997957, 0, 1, 0, 0.997957, 0, 0.0639004, -0.00917053, -1.60028, -12.2636 )
operation = 2
use_collision = true
width = 10.1047
height = 20.4429
depth = 19.8227
material = ExtResource( 21 )

[node name="CSGBox3" type="CSGBox" parent="active_entities/tower_interior1/CSGBox" index="4"]
transform = Transform( 0.989602, 0, 0.143832, 0, 1, 0, -0.143832, 0, 0.989602, -1.01767, 1.26187, -2.36964 )
operation = 2
use_collision = true
width = 2.4918
height = 14.8082
depth = 2.90095
material = ExtResource( 21 )

[node name="fountainA_large" parent="active_entities/tower_interior1" index="10" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 29.8388, -4.15047, -5.4919 )

[node name="fountainA_large2" parent="active_entities/tower_interior1" index="11" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.31799, 6.93367, 29.5741 )

[node name="target_flower" parent="active_entities/tower_interior1" index="12" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2196, 1.4726, -0.45809 )
open = false

[node name="CSGBox2" type="CSGBox" parent="active_entities/tower_interior1" index="13"]
transform = Transform( 0.833884, 0, -0.55194, 0, 1, 0, 0.55194, 0, 0.833884, 1.15231, 14.9529, -3.21851 )
use_collision = true
collision_layer = 257
width = 82.7232
depth = 69.8603
material = ExtResource( 21 )

[node name="CSGBox7" type="CSGBox" parent="active_entities/tower_interior1/CSGBox2" index="0"]
transform = Transform( 0.901228, 0, 0.433345, 0, 1, 0, -0.433345, 0, 0.901228, 20.5348, -4.51117, -21.925 )
operation = 2
use_collision = true
width = 2.4918
height = 14.8082
depth = 2.90095
material = ExtResource( 21 )

[node name="CSGBox8" type="CSGBox" parent="active_entities/tower_interior1/CSGBox2" index="1"]
transform = Transform( 0.997326, 0, 0.0730837, 0, 1, 0, -0.0730837, 0, 0.997326, -20.8009, -4.51117, 22.5643 )
operation = 2
use_collision = true
width = 1.28568
height = 14.8082
depth = 1.45207
material = ExtResource( 21 )

[node name="CSGBox3" type="CSGBox" parent="active_entities/tower_interior1" index="14"]
transform = Transform( 0.744956, 0, -0.667114, 0, 1, 0, 0.667114, 0, 0.744956, 1.43983, 1.34196, 28.1201 )
use_collision = true
collision_layer = 257
width = 9.17731
height = 11.0932
depth = 9.0646
material = ExtResource( 21 )

[node name="CSGBox2" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="0"]
transform = Transform( 0.994312, 0, 0.106509, 0, 1, 0, -0.106509, 0, 0.994312, -10.4092, -2.14233, 1.35482 )
width = 4.69451
height = 8.5659
depth = 12.8468
material = ExtResource( 21 )

[node name="CSGBox8" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="1"]
transform = Transform( 0.106509, 0, -0.994312, 0, 1, 0, 0.994312, 0, 0.106509, -9.62347, -1.56613, -5.77173 )
height = 8.24821
depth = 7.35448
material = ExtResource( 21 )

[node name="CSGBox3" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="2"]
transform = Transform( -4.34628e-08, 0.994312, 0.106509, -1, -4.37114e-08, 0, 4.65564e-09, -0.106509, 0.994312, -8.08588, 3.17934, -0.480663 )
width = 4.69451
height = 8.0
depth = 12.6156
material = ExtResource( 21 )

[node name="CSGBox4" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.416237, 0 )
operation = 2
use_collision = true
collision_layer = 257
width = 7.76857
height = 10.4434
depth = 7.52667
material = ExtResource( 21 )

[node name="CSGBox6" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8687, -3.82373, -7.62939e-06 )
operation = 2
use_collision = true
collision_layer = 257
width = 7.76857
height = 3.47246
depth = 3.45982
material = ExtResource( 21 )

[node name="CSGBox5" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="5"]
transform = Transform( 0.831395, 0, 0.555682, 0, 1, 0, -0.555682, 0, 0.831395, -1.92061, 1.13305, 1.84613 )
operation = 2
use_collision = true
collision_layer = 257
width = 2.3263
height = 10.4434
depth = 2.32571
material = ExtResource( 21 )

[node name="CSGBox7" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="6"]
transform = Transform( 0.99785, 0, 0.0655368, 0, 1, 0, -0.0655368, 0, 0.99785, -6.0085, 1.13305, 4.08829 )
operation = 2
use_collision = true
collision_layer = 257
width = 2.3263
height = 10.4434
depth = 2.32571
material = ExtResource( 21 )

[node name="CSGBox" type="CSGBox" parent="active_entities/tower_interior1/CSGBox3" index="7"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.41644, -3.3477, 4.33075 )
height = 4.38826
material = ExtResource( 21 )

[node name="bug_pickup" parent="active_entities/tower_interior1" index="15" instance=ExtResource( 35 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.47955, -3.34606, 24.0303 )

[node name="bug_pickup2" parent="active_entities/tower_interior1" index="16" instance=ExtResource( 35 )]
transform = Transform( -0.224979, 0, -0.974364, 0, 1, 0, 0.974364, 0, -0.224979, 1.73529, -3.25071, 26.4034 )

[node name="bug_pickup3" parent="active_entities/tower_interior1" index="17" instance=ExtResource( 35 )]
transform = Transform( 0.442385, 0, -0.896825, 0, 1, 0, 0.896825, 0, 0.442385, 1.58009, -1.37642, 24.7747 )

[node name="target_flower2" parent="active_entities/tower_interior1" index="18" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.25935, 5.4917, 28.2413 )

[node name="platform_square5" parent="active_entities/tower_interior1" index="19" instance=ExtResource( 23 )]
transform = Transform( -3.2964e-08, -0.74298, -0.669314, 1, -4.37114e-08, -7.28146e-10, -2.87156e-08, -0.669314, 0.74298, -1.7094, -2.31375, 25.2544 )

[node name="door_secret" type="AnimationPlayer" parent="active_entities/tower_interior1" index="20"]
playback_process_mode = 0
anims/Activate = SubResource( 3 )
anims/RESET = SubResource( 4 )
script = ExtResource( 28 )

[node name="dswitch_a" parent="active_entities/tower_interior1" index="21" instance=ExtResource( 29 )]
transform = Transform( 0.681124, 0, 0.732168, 0, 1, 0, -0.732168, 0, 0.681124, -1.9271, -4.04944, 29.538 )
time_deactivate = 3.0

[node name="CSGBox4" type="CSGBox" parent="active_entities/tower_interior1" index="22"]
transform = Transform( 0.721109, 0, -0.692822, 0, 1, 0, 0.692822, 0, 0.721109, 3.27846, 4.98427, 6.42727 )
use_collision = true
collision_layer = 257
width = 18.0058
height = 18.869
depth = 25.8817
material = ExtResource( 21 )

[node name="CSGBox5" type="CSGBox" parent="active_entities/tower_interior1/CSGBox4" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.4705, 0, 1.0551 )
operation = 2
use_collision = true
collision_layer = 257
width = 17.3617
height = 18.869
depth = 25.8817
material = ExtResource( 21 )

[node name="StaticBody" type="StaticBody" parent="active_entities/tower_interior1" index="23"]
transform = Transform( 0.671289, 0, 0.741196, 0, 1, 0, -0.741196, 0, 0.671289, 18.0725, -1.72483, 11.7675 )
collision_layer = 8448
collision_mask = 0
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="active_entities/tower_interior1/StaticBody" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.02961, 0, -0.929123 )
shape = SubResource( 5 )

[node name="MeshInstance" type="MeshInstance" parent="active_entities/tower_interior1/StaticBody/CollisionShape" index="0"]
mesh = SubResource( 6 )
material/0 = SubResource( 7 )

[node name="StaticBody2" type="StaticBody" parent="active_entities/tower_interior1" index="24"]
transform = Transform( -0.723435, 0, 0.690392, 0, 1, 0, -0.690392, 0, -0.723435, -0.914062, 3.17365, 4.50372 )
collision_layer = 8448
collision_mask = 0
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="active_entities/tower_interior1/StaticBody2" index="0"]
transform = Transform( 1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, -2.58326, 1.63583 )
shape = SubResource( 8 )

[node name="MeshInstance" type="MeshInstance" parent="active_entities/tower_interior1/StaticBody2/CollisionShape" index="0"]
mesh = SubResource( 9 )
material/0 = SubResource( 7 )

[node name="StaticBody3" type="StaticBody" parent="active_entities/tower_interior1" index="25"]
transform = Transform( -0.80183, 0, 0.597553, 0, 1, 0, -0.597553, 0, -0.80183, -15.9061, 3.17365, 9.33126 )
collision_layer = 8448
collision_mask = 0
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="active_entities/tower_interior1/StaticBody3" index="0"]
transform = Transform( 1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, -2.58326, 1.63583 )
shape = SubResource( 8 )

[node name="MeshInstance" type="MeshInstance" parent="active_entities/tower_interior1/StaticBody3/CollisionShape" index="0"]
mesh = SubResource( 9 )
material/0 = SubResource( 7 )

[node name="CSGBox5" type="CSGBox" parent="active_entities/tower_interior1" index="26"]
transform = Transform( 0.781289, 0, -0.624169, 0, 1, 0, 0.624169, 0, 0.781289, 9.01186, 1.20585, 3.43095 )
use_collision = true
height = 12.0
material = ExtResource( 21 )

[node name="falling_platform" parent="active_entities/tower_interior1" index="27" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 38.5199, 9.86812, -9.2383 )

[node name="bug_pickup4" parent="active_entities/tower_interior1" index="28" instance=ExtResource( 35 )]
transform = Transform( -0.170724, 0, -0.985319, 0, 1, 0, 0.985319, 0, -0.170724, 40.2511, 10.827, -8.43224 )

[node name="bug_pickup5" parent="active_entities/tower_interior1" index="29" instance=ExtResource( 35 )]
transform = Transform( 0.880205, 0, 0.474594, 0, 1, 0, -0.474594, 0, 0.880205, 38.8243, 11.3615, -8.67946 )

[node name="pistol_pickup" parent="active_entities/tower_interior1" index="30" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.89909, 6.86856, 18.9505 )
respawn_on_player_death = true

[node name="platform_square6" parent="active_entities/tower_interior1" index="31" instance=ExtResource( 23 )]
transform = Transform( -6.04459e-08, 0.839535, -0.543306, -1, -4.37114e-08, 4.37114e-08, 1.29486e-08, 0.543306, 0.839535, -28.6234, 9.40149, 4.15881 )

[node name="platform_square7" parent="active_entities/tower_interior1" index="32" instance=ExtResource( 23 )]
transform = Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -28.4288, 9.40149, 13.7024 )

[node name="platform_square8" parent="active_entities/tower_interior1" index="33" instance=ExtResource( 23 )]
transform = Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -22.6197, 9.40149, 17.4618 )

[node name="platform_square9" parent="active_entities/tower_interior1" index="34" instance=ExtResource( 23 )]
transform = Transform( -2.84932e-08, 0.543306, 0.839535, -1, -4.37114e-08, -5.65141e-09, 3.36268e-08, -0.839535, 0.543306, -17.2395, 9.40149, 20.9436 )

[node name="door2" type="AnimationPlayer" parent="active_entities/tower_interior1" index="35"]
root_node = NodePath("../platform_square9")
anims/Activate = SubResource( 10 )
anims/RESET = SubResource( 11 )
script = ExtResource( 28 )

[node name="dswitch_a2" parent="active_entities/tower_interior1" index="36" instance=ExtResource( 29 )]
transform = Transform( -0.794196, 0, 0.607661, 0, 1, 0, -0.607661, 0, -0.794196, 9.01208, 7.20585, 3.26765 )

[node name="OmniLight" type="OmniLight" parent="active_entities/tower_interior1/dswitch_a2" index="4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.320122, 1.30727, 0.237122 )
light_color = Color( 0.627451, 0.862745, 1, 1 )

[node name="CSGCylinder" type="CSGCylinder" parent="active_entities/tower_interior1" index="37"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.23446, 2.48157, -5.72219 )
use_collision = true
collision_layer = 257
radius = 6.23704
height = 10.0371
material = ExtResource( 21 )

[connection signal="arg_toggled" from="active_entities/tower_interior1/dswitch_a1" to="active_entities/tower_interior1/door1" method="_on_toggled"]
[connection signal="arg_toggled" from="active_entities/tower_interior1/dswitch_a" to="active_entities/tower_interior1/door_secret" method="_on_toggled"]
[connection signal="toggled" from="active_entities/tower_interior1/dswitch_a2" to="active_entities/tower_interior1/door2" method="_on_toggled"]
