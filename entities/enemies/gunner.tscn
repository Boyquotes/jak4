[gd_scene load_steps=17 format=2]

[ext_resource path="res://material/env/copper1.png" type="Texture" id=1]
[ext_resource path="res://entities/enemies/gunner.gd" type="Script" id=2]
[ext_resource path="res://material/ancient/white_metal.material" type="Material" id=3]
[ext_resource path="res://material/ancient/gem.material" type="Material" id=4]
[ext_resource path="res://_glb/enemies/gunner.glb" type="PackedScene" id=5]
[ext_resource path="res://entities/visual/laser.gd" type="Script" id=6]

[sub_resource type="SpatialMaterial" id=1]
albedo_texture = ExtResource( 1 )

[sub_resource type="CylinderShape" id=2]
height = 1.34271
radius = 0.291365

[sub_resource type="BoxShape" id=3]
extents = Vector3( 13, 13, 13 )

[sub_resource type="SpatialMaterial" id=108]
flags_unshaded = true
params_blend_mode = 1
albedo_color = Color( 3, 0.2, 0.2, 1 )

[sub_resource type="SphereMesh" id=107]
radius = 0.07
height = 0.14
radial_segments = 5
rings = 5

[sub_resource type="Curve" id=5]
_data = [ Vector2( 0, 1 ), 0.0, -0.933152, 0, 0, Vector2( 0.593583, 0 ), -4.92613, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=6]
width = 32
curve = SubResource( 5 )

[sub_resource type="ParticlesMaterial" id=7]
spread = 180.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 2.0
scale_curve = SubResource( 6 )

[sub_resource type="SpatialMaterial" id=10]
flags_unshaded = true

[sub_resource type="SphereMesh" id=8]
material = SubResource( 10 )
radius = 0.15
height = 0.3
radial_segments = 5
rings = 5

[node name="gunner" groups=["distance_activated", "push", "target"] instance=ExtResource( 5 )]
collision_layer = 5
script = ExtResource( 2 )
id = "gunner"

[node name="gunner" parent="." index="0"]
material/0 = ExtResource( 3 )
material/1 = ExtResource( 4 )
material/2 = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="." index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.67697, 0 )
shape = SubResource( 2 )

[node name="awareness" type="Area" parent="." index="2"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape4" type="CollisionShape" parent="awareness" index="0"]
transform = Transform( 0.707107, 3.09086e-08, 0.707107, 0.40558, 0.819152, -0.40558, -0.579228, 0.573576, 0.579228, 0, 0.469762, 20.0669 )
shape = SubResource( 3 )

[node name="laser" type="ImmediateGeometry" parent="." index="3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.483698, 0.885667, 0.422878 )
layers = 7
material_override = SubResource( 108 )

[node name="aim_cast" type="SpringArm" parent="laser" index="0"]
collision_mask = 7
spring_length = 45.0
script = ExtResource( 6 )
laser_geometry = NodePath("..")

[node name="laser_end" type="MeshInstance" parent="laser/aim_cast" index="0"]
time_scale_response = false
mesh = SubResource( 107 )
skeleton = NodePath("")
material/0 = SubResource( 108 )

[node name="target" type="Spatial" parent="." index="4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.967191, 0 )

[node name="impact" type="Node" parent="." index="5"]

[node name="Particles" type="Particles" parent="impact" index="0"]
emitting = false
amount = 12
lifetime = 0.3
one_shot = true
preprocess = 0.2
randomness = 0.81
process_material = SubResource( 7 )
draw_pass_1 = SubResource( 8 )
